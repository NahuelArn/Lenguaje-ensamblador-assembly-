SIN PILA

ORG 1000H
 CADENA DB "ABEBBZ"
 FIN_CADENA DW 00
 CARACTER DB "B"
 RESULT DB ?
 CONTAR_VOCAL DW ?
 
ORG 3000H
 
 INCRE: INC DL
 JMP FIN
 
 CONTROLADOR: MOV DL, 0 ;CONTADOR DE VOCALES    ; CONTADOR DE VECES APARECE EL MISMO CARACTER
 LOOP: CMP BYTE PTR [BX], 00H ;VEO SI NO ES 0
 JZ TERMINO                 ;TERMINA
 
 MOV AH, BYTE PTR [BX]  ; PONGO LA VOCAL ACTUAL
 CALL CUMPLE
 
 SIGO:INC BX
 JMP LOOP
 TERMINO: RET
 
 CUMPLE: CMP AH, CARACTER
 JZ INCRE
 FIN: RET

ORG 2000h
 MOV BX, OFFSET CADENA ;1000h
 CALL CONTROLADOR
 MOV RESULT, DL
 HLT
END






CON PILA

ORG 1000H
 CADENA DB "5BEB55BZ"
 FIN_CADENA DW 00
 CARACTER DB "5"
 CONTAR_CAR DB ?
 CONTAR_VOCAL DW ?
 
ORG 3000H
 
 CUMPLE:  INC DL
 INC BX
 JMP LOOP
 
 CONTROLADOR: MOV BX, SP ;COPIO EL STACK
 ADD BX, 2
 MOV DX, [BX] ;MI VAR CONTADORA PASADA POR PILA
 ADD BX, 2    
 MOV AX, [BX] ;PASO LA LETRA
 ADD BX, 2    
 MOV BX, [BX]  ;PASO LA DIRECCION
 MOV CX, FIN_CADENA ;TIVE Q HACER ESTO PORQ AMBOS OPERANDOS ACCEDIAN A MEMORIA
 LOOP: CMP Cl, BYTE PTR [BX] ;VEO SI NO ES 0
 JZ TERMINO                 ;TERMINA
 CMP AL, BYTE PTR [BX]
 JZ CUMPLE
 
 SIGO:INC BX
 JMP LOOP
 TERMINO: RET

ORG 2000h
 MOV BX, OFFSET CADENA ;1000h
 PUSH BX  ;REFERENCIA CADENA
 MOV AL, CARACTER  ;VALOR CARACTER
 MOV AH, 0 ;CONTADOR
 PUSH AX
 MOV DX, 0
 PUSH DX
 CALL CONTROLADOR
 MOV CONTAR_CAR, DL
 HLT
END




;----------------------------------------------------------------------
; Recibe el caracter a verificar por AH
; Devuelve el resultado en AL


ORG 1000H
 CAD DB "FXCEELENTe" 
 CERO DB 0
 CARACTER DB "E"
 resultado DW ?
; Recibe en BX la direcci√≥n de la cadena
; retorna en CX la cantidad de vocales

ORG 3000H
 CONTAR_CAR: MOV DX, 0
  
  MOV BX, SP ;PASO EL STACK
  ADD BX, 2  ;Me muevo en la pila
  MOV AX, [BX] ;Paso la letra
  ADD BX, 2 ;Me muevo en la pila
  MOV BX, [BX] ;Paso la direccion de la cadena
  LOOP: MOV CL, BYTE PTR [BX] ;El primer digito de la cadena
  CMP CL, 0 ;Corte para temrinar
  JZ TERMINO
  CMP CL, AL ;Comparo el caracter con nuestro dato
  JNZ CONTINUAR
  INC DX   ;Nuestro contador
  CONTINUAR: INC BX ;Continuo normal
   JMP LOOP
  INC BX
  
  
  
  TERMINO: RET

ORG 2000h
 
 MOV AX, OFFSET CAD
 PUSH AX ;PASO TODA LA CADENA
 MOV AL, CARACTER ;VALOR CARACTER
 MOV AH, 0 ;CONTADOR
 PUSH AX  ;NUEVAMENTE PASO EL REGISTRO COMPLETO
 CALL CONTAR_CAR
 MOV resultado, CX
 HLT
END
