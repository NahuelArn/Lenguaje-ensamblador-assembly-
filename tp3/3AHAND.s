Escribir un programa que imprime “INGENIERIA E INFORMATICA” en la impresora a través del
HAND-SHAKE. La comunicación se establece por consulta de estado (polling). ¿Qué diferencias
encuentra con el ejercicio 2b?

HAND_DATO EQU 40H    ;EL CARACTER QUE QUEREMOS IMPRIMIR, EL HANDSHAKE SE LO MANDA DIRECTO A LA IMPRESORA
HAND_ESTADO EQU 41H  ;b

ORG 1000H
MSJ DB "INGENIERIA E INFORMATICA"
SALTO DB 0AH

ORG 3000H


ORG 2000H
;CONFIGURO EL HANDSHAKE PARA EL POOLING                        POLLING = CONSULTA DE ESTADO
IN AL, HAND_ESTADO  ;TOMO EL ESTADO ACTUAL
AND AL, 07FH        ;01111111
OUT HAND_ESTADO, AL ;ESTADO = 0XXXXXXX    HANDSHAKE POR CONSULTA DE ESTADO
;RECORREMOS EL MENSAJE Y LO ENVIAMOS
; A CARACTER HACIA LA IMPRESORA

MOV BX, OFFSET MSJ
POL: IN AL, HAND_ESTADO
 AND AL, 1  ;CHEQUEO EL PRIMER BIT DE BUSY  ;VEO SI ESTA OCUPADA LA IMPRESORA
 JNZ POL
 MOV AL, [BX]
 OUT HAND_DATO, AL  ;LE MANDO EL CARACTER DIRECTAMENTE
 INC BX
 CMP BX, OFFSET SALTO
 JNZ POL
 
INT 0
END
